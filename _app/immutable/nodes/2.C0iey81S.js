import{e as U,R as J}from"../chunks/DNTD3ZPW.js";import{t as u,a as d,c as K,s as q,h as N,e as Q}from"../chunks/Ca-V092e.js";import{i as H}from"../chunks/Bhy60SNx.js";import{p as I,c as t,r as a,a as M,f as L,s as P,w as p,t as S,v as B,q as C,u as W,x as X,$ as Y,y as Z,z as ee}from"../chunks/y302EgEr.js";import{i as $}from"../chunks/D9ThWQ4g.js";import{p as A,s as te,a as ae}from"../chunks/DqhUhdnC.js";import{l as V,s as se,a as oe}from"../chunks/z-ZMfNkT.js";import{e as re,s as E}from"../chunks/DEwPd4sG.js";import{c as F}from"../chunks/DXDebkQQ.js";const ne=async({fetch:g})=>{try{const e=await g("https://pokeapi.co/api/v2/pokemon?limit=151&offset=0");if(!e.ok)throw U(e.status,`Feil ved henting av data: ${e.statusText}`);const _=await e.json();return{pokemons:(await Promise.all(_.results.map(async o=>{const c=await g(o.url);if(!c.ok)return null;const r=await c.json();return{name:r.name,sprites:r.sprites,types:r.types}}))).filter(Boolean)}}catch(e){throw console.error("Uventet feil ved lasting av data:",e),U(500,"En uventet feil oppstod ved henting av pok√©mon-data")}},Pe=Object.freeze(Object.defineProperty({__proto__:null,load:ne},Symbol.toStringTag,{value:"Module"}));var ie=u('<p class="text-info"> </p>'),le=u('<a data-sveltekit-prefetch=""><div class="card bg-slate-700 shadow-lg shadow-blue-900"><div class="card-body"><div class="text-center"><img alt="Pokemon" class="w-32 h-32 mx-auto bg-gray-500 rounded-full object-cover"> <h2 class="text-white text-2xl font-bold"> </h2> <!></div></div></div></a>'),ve=u("<p>Ingen pokemon funnet.</p>"),ce=u('<div class="flex justify-center w-full mt-8"><div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 justify-items-center w-full"><!></div></div>');function me(g,e){I(e,!1);let _=A(e,"pokemons",8);H();var h=ce(),o=t(h),c=t(o);{var r=s=>{var f=K(),x=L(f);re(x,1,_,k=>k.name,(k,n)=>{var b=le(),y=t(b),w=t(y),i=t(w),m=t(i),l=P(m,2),O=t(l,!0);a(l);var R=P(l,2);{var z=v=>{var T=ie(),D=t(T,!0);a(T),S(G=>q(D,G),[()=>F(p(n).types[0].type.name)],B),d(v,T)};$(R,v=>{p(n).types&&p(n).types.length&&v(z)})}a(i),a(w),a(y),a(b),S(v=>{E(b,"href",`/pokemon/${p(n).name??""}`),E(m,"src",p(n).sprites.other.home.front_default),q(O,v)},[()=>F(p(n).name)],B),d(k,b)}),d(s,f)},j=s=>{var f=ve();d(s,f)};$(c,s=>{_().length>0?s(r):s(j,!1)})}a(o),a(h),d(g,h),M()}var pe=u('<h1 class="text-white font-bold text-3xl mt-18"> </h1> <!>',1),de=u('<h1 class="text-white font-bold text-4xl">Velkommen til PokePage!</h1> <p class="py-6">Lag din egen PokePage i dag med egen URL.</p> <button class="btn btn-primary">Opprett en konto</button>',1),fe=u('<main class="hero min-h-screen bg-base-300 flex items-center justify-center"><div class="hero-content"><div class="text-center"><!></div></div></main>');function $e(g,e){I(e,!1);const[_,h]=te(),o=()=>ae(se,"$session",_),c=Z();let r=A(e,"data",8);const j=()=>{oe.set("sign_up"),V.set(!0)};C(()=>X(r()),()=>{ee(c,r().pokemons?[...r().pokemons].sort((s,f)=>s.name.localeCompare(f.name)):[])}),C(()=>(o(),V),()=>{o()&&V.set(!1)}),W(),H(),N(s=>{Y.title="Home - PokePage"}),J(g,{children:(s,f)=>{var x=fe(),k=t(x),n=t(k),b=t(n);{var y=i=>{var m=pe(),l=L(m),O=t(l);a(l);var R=P(l,2);{var z=v=>{me(v,{get pokemons(){return p(c)}})};$(R,v=>{p(c)&&v(z)})}S(()=>q(O,`Velkommen til din PokePage ${o().user.email??""}!`)),d(i,m)},w=i=>{var m=de(),l=P(L(m),4);Q("click",l,j),d(i,m)};$(b,i=>{o()?i(y):i(w,!1)})}a(n),a(k),a(x),d(s,x)},$$slots:{default:!0}}),M(),h()}export{$e as component,Pe as universal};
